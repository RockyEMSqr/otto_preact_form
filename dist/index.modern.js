import{Component as t,h as e}from"preact";import s from"linkstate";import r from"dlv";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},i.apply(this,arguments)}class p extends t{constructor(...t){super(...t),this.prepend=void 0,this.append=void 0,this.inp=void 0}getValue(){return this.state.value?this.state.value:null!=this.props.value?this.props.value:this.props.linkTo?r(this.props.linkTo.state,this.props.name,void 0):this.inp?this.inp.value:null}getOnChange(){if(this.props.linkTo){let t=s(this.props.linkTo,this.props.name);return this.props.onChange?e=>{t(e),this.props.onChange&&this.props.onChange(e)}:t}return this.props.onChange}getOnInput(){if(this.props.onInput&&this.props.linkTo){let t=s(this.props.linkTo,this.props.name);return e=>{t(e),e.value=this.getValue(),this.props.onInput&&this.props.onInput(e)}}}get label(){return this.props.label}get isRequired(){return this.props.required}get inputClass(){return`form-control ${this.props.inputClass||null} ${this.isRequired?"required":""}`}get labelClass(){return this.isRequired?"required":""}get id(){return this.props.id||this.props.name}render(t,s){let r=i({},t,{linkTo:null,label:null}),p=t.placeholder;return p||"string"!=typeof t.label||(p=t.label),e("div",{class:"form-group"},this.label&&e("label",{for:this.id,class:this.labelClass},this.label),e("div",{class:"input-group"},this.prepend,e("input",i({},r,{ref:t=>this.inp=t,onChange:this.getOnChange(),onInput:this.getOnInput(),value:this.getValue(),type:this.type,class:this.inputClass,name:null==t?void 0:t.name,id:this.id,placeholder:p})),this.append))}}class n extends p{constructor(...t){super(...t),this.type="text"}render(t,e){return super.render(t,e)}}export{n as Text};
//# sourceMappingURL=index.modern.js.map
