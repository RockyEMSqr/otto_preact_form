import{h as t,Component as e}from"preact";import n from"linkstate";import r from"dlv";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var s=/*#__PURE__*/function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).type="text",e}return o(e,t),e.prototype.render=function(e,n){return t.prototype.render.call(this,e,n)},e}(/*#__PURE__*/function(e){function p(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prepend=void 0,t.append=void 0,t.inp=void 0,t}o(p,e);var s,l,a=p.prototype;return a.getValue=function(){return this.state.value?this.state.value:null!=this.props.value?this.props.value:this.props.linkTo?r(this.props.linkTo.state,this.props.name,void 0):this.inp?this.inp.value:null},a.getOnChange=function(){var t=this;if(this.props.linkTo){var e=n(this.props.linkTo,this.props.name);return this.props.onChange?function(n){e(n),t.props.onChange&&t.props.onChange(n)}:e}return this.props.onChange},a.getOnInput=function(){var t=this;if(this.props.onInput&&this.props.linkTo){var e=n(this.props.linkTo,this.props.name);return function(n){e(n),n.value=t.getValue(),t.props.onInput&&t.props.onInput(n)}}},a.render=function(e,n){var r=this,o=i({},e,{linkTo:null,label:null}),p=e.placeholder;return p||"string"!=typeof e.label||(p=e.label),t("div",{class:"form-group"},this.label&&t("label",{for:this.id,class:this.labelClass},this.label),t("div",{class:"input-group"},this.prepend,t("input",i({},o,{ref:function(t){return r.inp=t},onChange:this.getOnChange(),onInput:this.getOnInput(),value:this.getValue(),type:this.type,class:this.inputClass,name:null==e?void 0:e.name,id:this.id,placeholder:p})),this.append))},s=p,(l=[{key:"label",get:function(){return this.props.label}},{key:"isRequired",get:function(){return this.props.required}},{key:"inputClass",get:function(){return"form-control "+(this.props.inputClass||null)+" "+(this.isRequired?"required":"")}},{key:"labelClass",get:function(){return this.isRequired?"required":""}},{key:"id",get:function(){return this.props.id||this.props.name}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),p}(e));export{s as Text};
//# sourceMappingURL=index.module.js.map
